{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        baseBox: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        \r\n        iconTrap: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },        \r\n        \r\n        iconBonus: {\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },        \r\n        \r\n        _manager: null,\r\n        _Map: 'generate!',   \r\n\r\n        \r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n    \r\n    init (gManager) {\r\n        this._manager = gManager;\r\n    },\r\n\r\n\r\n\r\n    \r\n    //generar un ticket aleatoriamente\r\n    generate (){\r\n        this._outsideMap = [];\r\n        \r\n        var vBonusLine = Math.floor(Math.random() * 4) + 1;\r\n        var vBonusCol = Math.floor(Math.random() * (9 - vBonusLine));\r\n        \r\n        //Generar el outsideMap...\r\n        for (var vLine = 0; vLine < 9; vLine++){\r\n            \r\n            var vLose = 1;//((10 - vLine) / 5) + 1;\r\n            var vContentLine = '';\r\n            var vContent = 'o';\r\n            \r\n            if (vLine == vBonusLine) {vLose++}\r\n            \r\n            for (var vCol = 0; vCol < ( 10 - vLine ); vCol++){\r\n                \r\n                vContent = 'o';\r\n                \r\n                if (vCol == vBonusCol && vLine == vBonusLine) \r\n                    { vContent = 'B' }\r\n                else if ( vLose > 0 && ( Math.random() < 0.3 || vCol===(9 - vLine) ) ) \r\n                    { vContent = 'X'; vLose-- }\r\n                \r\n                \r\n                //corregir puede quedar sin asignar loosers \r\n                vContentLine = vContentLine + vContent;\r\n                \r\n                //Dibujamos en layer...\r\n                this._drawBoxOnTicket(vLine, vCol, vContent);\r\n            }\r\n            console.log('linea ' + vLine + ' Contenido: ' + vContentLine);\r\n            \r\n            this._outsideMap.push(vContentLine);    \r\n            \r\n        }\r\n    },\r\n    \r\n    _drawBoxOnTicket (line, col, content) {\r\n        \r\n        var abox = cc.instantiate(this.baseBox);\r\n        abox = abox.getComponent(cc.Sprite);\r\n        abox.node.parent = this.node;\r\n        \r\n        //abox.node.zindex = -10 * vlinea; //se ordena los de abajo mas arriba que los otros...\r\n    \r\n        switch (content) {\r\n        case 'o': break;    \r\n        case 'B': abox.spriteFrame = this.iconBonus; break;    \r\n        case 'X': abox.spriteFrame = this.iconTrap; break;    \r\n        }\r\n        //dibujar...\r\n        abox.node.setPosition( (col * 24) + (line * 24 * 0.5) + 40, line * 24 + 40);\r\n        \r\n    },\r\n    \r\n    getOutSideContent: function (aLine, aCol){\r\n        var tmpLine = this._outsideMap[aLine];\r\n        return tmpLine.charAt(aCol); \r\n    }\r\n\r\n    \r\n});\r\n"
  ]
}