{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        deltaStepX: 141,\r\n        deltaStepY: 122,\r\n        col: 0,\r\n        lin: -1,\r\n        \r\n        initialPos: cc.v2(0, 0),\r\n        \r\n        dieNode: cc.Node,\r\n        inside: false,\r\n        \r\n        audio_Jump: cc.AudioClip,\r\n        audio_Run: cc.AudioClip,\r\n        audio_Die: cc.AudioClip,\r\n        audio_JumpOver: cc.AudioClip,\r\n        \r\n        _manager: null\r\n    },\r\n    \r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n\r\n    init (gManager) {\r\n        this._manager = gManager;\r\n    },\r\n\r\n    setAnimation (aAnimName) {\r\n        this.node.getComponent(cc.Animation).play(aAnimName);    \r\n    },\r\n\r\n    //reset: va a la posicion inicial del juego\r\n    reset () {\r\n        this.node.stopAllActions();\r\n        \r\n        if ( this.inside ) {\r\n            this.node.x = this.initialPos.x;\r\n            this.node.y = this.initialPos.y;\r\n            this.setAnimation('ExpIn_Stand');\r\n            this.col = 2;   \r\n            this.lin = 4;\r\n        } else {\r\n            this.node.x = this.initialPos.x - 78;\r\n            this.node.y = this.initialPos.y - 13;\r\n\r\n            //el primer saltito...\r\n            var aSalto = cc.sequence(\r\n                //cc.moveBy(0, cc.p( fixAnimJumpX, fixAnimJumpY)),\r\n                cc.callFunc( function() { this.setAnimation( 'ExpOut_Begin' ); }, this ),\r\n                cc.delayTime(1.6), //pausa para que termine animacion...\r\n                cc.hide(),\r\n                cc.moveTo(0, cc.p( this.initialPos.x, this.initialPos.y )),\r\n                cc.callFunc( function() { this.setAnimation( 'ExpOut_StandR' ); }, this ),\r\n                cc.show()\r\n                );\r\n            \r\n            this.node.runAction( aSalto );\r\n            //this.node.x = this.initialPos.x;\r\n            //this.node.y = this.initialPos.y;\r\n            //this.setAnimation('ExpOut_StandR');\r\n            this.col = 5;   \r\n            this.lin = -1;\r\n        }\r\n            \r\n        //this.node.x = this.initialPos.x;\r\n        //this.node.y = this.initialPos.y;\r\n        \r\n        //lo pongo en el mismo espacio al nodo de la animacion de la muerte...\r\n        this.dieNode.parent = this.node.parent;\r\n        this.dieNode.zIndex = 100; ///Bien arriba!!!\r\n        \r\n        //this.node.runAction( cc.fadeIn(1) );\r\n        \r\n    },\r\n\r\n    //jumpToOutsideBox: Anima el player saltando hasta el box ingresado\r\n    jumpToOutsideBox (aBox) {\r\n        \r\n        //aBox = aBox.getComponent('Box');\r\n        \r\n        //el player salta hasta 'subirse' al box\r\n        var dCol =  aBox.col - this.col; //Delta Col \r\n        //var s = (dCol / Math.abs(dCol)); //Signo del movimiento... \r\n        var s = (dCol < 0) ? -1 : 1; //Signo del movimiento... \r\n        //cc.log('signo: ' + s);\r\n        //cuando el paso es cero nos tenemos que quedar y solo saltar hacia la derecha...\r\n        var strDirection = ( s < 0 ) ? 'L' : 'R'; \r\n        var idSalto = ( s < 0 ) ? Math.abs(dCol + 1 ) : Math.abs(dCol); \r\n        var strAnim = 'ExpOut_Step' + strDirection + '_D' + idSalto; \r\n        \r\n        //las animaciones no tienen el mismo tamaño por lo tanto corrijo la posición antes del play\r\n                            //   0,   1,   2,   3,   4,   5,   6,   7,   8\r\n        var arrFixAnimJumpX = [ 30, 109, 178, 248, 322, 393, 463, 529, 600];\r\n        var arrFixAnimJumpY = [ -2,   1,   0,   0,  -6, -11, -10,  -3, -26];\r\n        \r\n        var fixAnimJumpX = s * arrFixAnimJumpX[idSalto];\r\n        var fixAnimJumpY = arrFixAnimJumpY[idSalto];\r\n\r\n        //le pongo una accion vacia para que no de error luego...\r\n        //var paso = cc.delayTime(0); //dummy action\r\n        var dieAct = cc.delayTime(0); //dummy action\r\n        \r\n        //si tiene que morir...\r\n        if (aBox.content === 'X'){\r\n            dieAct = cc.spawn(\r\n                cc.fadeOut(0.2),\r\n                cc.callFunc( function() { this.showDieAnim(aBox); }, this ),\r\n                cc.delayTime(1.2)\r\n                );\r\n        }\r\n        \r\n        var aSalto = cc.sequence(\r\n            //paso, //da los pasos...\r\n            //Dejamos en posicion para el jump con correccion...\r\n            cc.moveBy(0, cc.p( fixAnimJumpX, fixAnimJumpY)),\r\n            \r\n            //Informamos al box para que reaccione... la pausa la hace el showcontent\r\n            cc.callFunc( function() { aBox.showContent(); }, aBox),\r\n\r\n            cc.callFunc( function() { cc.audioEngine.playEffect( this.audio_Jump ); this.setAnimation( strAnim ); }, this ),\r\n            cc.delayTime(0.8), //pausa para que termine animacion...\r\n            \r\n            //Si muere...sino viene en dummy\r\n            dieAct,\r\n            \r\n            //dejamos en posicion normal de stand...\r\n            //cc.moveBy(0, cc.p( -fixAnimJumpX + this.node.x - aBox.node.x , -fixAnimJumpY + this.deltaStepY) ),\r\n            cc.moveTo(0, cc.p( aBox.node.x + 66, aBox.node.y + 125 ) ),\r\n\r\n            //luego del salto queda en normal parado... si no paso nada...\r\n            cc.callFunc( function() { this.setAnimation('ExpOut_Stand' + strDirection ); }, this ),\r\n            \r\n            //Avisamos al manager que termino el show...\r\n            //para que respete la secuencia, la llamada,  debe estar dentro de una funcion \r\n            //y debo pasarle el target para que tome bien el this... \r\n            cc.callFunc( function() { this._manager.jumpEnd(aBox); }, this ) \r\n        );\r\n        \r\n        this.node.runAction(aSalto);\r\n        \r\n        //llegamos al box...\r\n        this.lin = aBox.lin;\r\n        this.col = aBox.col;\r\n\r\n    },\r\n\r\n    //jumpToIntsideBox: Anima el player saltando hasta el box ingresado\r\n    jumpToInsideBox (aBox) {\r\n        //el player salta hasta 'caer' al box\r\n        var dCol =  aBox.col - this.col; //Delta Col \r\n        //var s = (dCol / Math.abs(dCol)); //Signo del movimiento... \r\n        var s = (dCol < 0) ? -1 : 1; //Signo del movimiento... \r\n        //cc.log('signo: ' + s);\r\n        //cuando el paso es cero nos tenemos que quedar y solo saltar hacia la derecha...\r\n        var strDirection = ( s < 0 ) ? 'L' : 'R'; \r\n        var idSalto = ( s < 0 ) ? Math.abs(dCol + 1 ) : Math.abs(dCol); \r\n        var strAnim = 'ExpIn_Step' + strDirection + '_D' + idSalto; \r\n        \r\n        //las animaciones no tienen el mismo tamaño por lo tanto corrijo la posición antes del play\r\n                            //   0,   1,   2,   3,\r\n        var arrFixAnimJumpX = [  45, 111, 185, 254];\r\n        var arrFixAnimJumpY = [-144,-140,-136,-134];\r\n        \r\n        var fixAnimJumpX = s * ( arrFixAnimJumpX[idSalto] + 10) ;\r\n        var fixAnimJumpY = arrFixAnimJumpY[idSalto] + 10;\r\n\r\n        var firstJump =  ( this.lin == 4 ) ? -360 : 0;\r\n        var firstJumpDelay =  ( this.lin == 4 ) ? 0.15 : 0;\r\n\r\n        //le pongo una accion vacia para que no de error luego...\r\n        var dieAct = cc.delayTime( 0 ); //dummy action\r\n        \r\n        //si tiene que morir...\r\n        if (aBox.content === 'X'){\r\n            dieAct = cc.spawn(\r\n                cc.fadeOut(0.2),\r\n                cc.callFunc( function() { this.showDieAnim(aBox); }, this ),\r\n                cc.delayTime(1.2)\r\n                );\r\n        }\r\n        \r\n        var aSalto = cc.sequence(\r\n            //Dejamos en posicion para el jump con correccion...\r\n            cc.hide(),\r\n            cc.moveBy(0, cc.p( fixAnimJumpX, fixAnimJumpY )),\r\n            \r\n            //Informamos al box para que reaccione... la pausa la hace el showcontent\r\n            cc.callFunc( function() { aBox.showContent(); }, aBox),\r\n\r\n            cc.spawn(\r\n                cc.show(),\r\n                cc.moveBy( 0.4, cc.p( s * -18, 0) ).easing(cc.easeIn(3.0) ), //Corrijo posicion para que caiga en su lugar\r\n                cc.callFunc( function() { cc.audioEngine.playEffect( this.audio_Jump ); this.setAnimation( strAnim ); }, this ),\r\n                cc.sequence( \r\n                    cc.delayTime(0.4),\r\n                    cc.moveBy( firstJumpDelay , cc.p( 0, firstJump) ).easing(cc.easeIn(3.0) )\r\n                    )\r\n                ),\r\n            cc.delayTime( 0.4 + firstJumpDelay ),//pausa para que termine animacion...\r\n                        \r\n            //Si muere...sino viene en dummy\r\n            dieAct,\r\n            \r\n            //dejamos en posicion normal de stand...\r\n            //cc.moveTo(0, cc.p( aBox.node.x + 66, aBox.node.y + 125 ) ),\r\n            cc.moveTo(0, cc.p( aBox.node.x + 66, aBox.node.y + 135 ) ),\r\n\r\n            //luego del salto queda en normal parado... si no paso nada...\r\n            cc.callFunc( function() { this.setAnimation('ExpIn_Stand'); }, this ),\r\n            \r\n            //Avisamos al manager que termino el show...\r\n            //para que respete la secuencia, la llamada,  debe estar dentro de una funcion \r\n            //y debo pasarle el target para que tome bien el this... \r\n            cc.callFunc( function() { this._manager.jumpEnd(aBox); }, this ) \r\n        );\r\n        \r\n        this.node.runAction(aSalto);\r\n        \r\n        //llegamos al box...\r\n        this.lin = aBox.lin;\r\n        this.col = aBox.col;\r\n\r\n    },\r\n\r\n\r\n    //moveToBox: Anima el player hasta el box ingresado\r\n    //se usa para la piramide outside\r\n    moveToBox (aBox) {\r\n        \r\n        //aBox = aBox.getComponent('Box');\r\n        \r\n        //el player tiene que correr hasta 'subirse' al box\r\n        var dCol =  aBox.col - this.col;\r\n        var s = (dCol / Math.abs(dCol));\r\n        \r\n        //cuando el paso es cero nos tenemos que quedar y solo saltar...\r\n        var strAnim = ( s < 0 ) ? 'ExplorerStepL' : 'ExplorerStepR'; \r\n        //var strAnimJump = ( dCol <= 0 ) ? 'ExplorerStepL' : 'ExplorerStepR'; \r\n        \r\n        //las animaciones no tienen el mismo tamaño por lo tanto corrijo la \r\n        //posición antes del play\r\n        var fixAnimPasoX = 0;\r\n        if ( dCol > 0 ) { fixAnimPasoX = 71} else if ( dCol < 0 ) { fixAnimPasoX = -71 } \r\n        \r\n        //le pongo una accion vacia para que no de error luego...\r\n        var paso = cc.delayTime(0); //dummy action\r\n        var dieAct = cc.delayTime(0); //dummy action\r\n        \r\n        //console.log('Contenido del Box hacia el que corre: ' + aBox.content);\r\n        \r\n        //si tiene que morir...\r\n        if (aBox.content === 'X'){\r\n            dieAct = cc.spawn(\r\n                cc.fadeOut(0.2),\r\n                //cc.hide(),\r\n                cc.callFunc( function() { this.showDieAnim(aBox); }, this ),\r\n                cc.delayTime(1.2)\r\n                //cc.callFunc( this.showDieAnim, aBox )\r\n                );\r\n        }\r\n        \r\n        //Si movemos...\r\n        if (dCol !== 0) {\r\n            paso = cc.sequence(\r\n                //corregimos la posicion por la animacion del paso...\r\n                //cc.moveBy(0, cc.p( fixAnimPasoX, fixAnimPasoY )),\r\n                cc.moveBy(0, cc.p( fixAnimPasoX, 0 )),\r\n                cc.sequence(\r\n                    cc.callFunc( function() { this.setAnimation(strAnim); }, this ),\r\n                    cc.delayTime(0.3), //Pausa para que se complete animación...\r\n                    //y luego movemos el nodo inmediatamente...\r\n                    cc.moveBy(0, cc.p( s * this.deltaStepX, 0))\r\n                ).repeat(Math.abs( dCol )), //se repite la cantidad de pasos que tiene que dar...\r\n                cc.moveBy(0, cc.p( -fixAnimPasoX, 0))\r\n            );\r\n        }\r\n\r\n        var fixAnimJumpX = 47;\r\n        \r\n        var aSalto = cc.sequence(\r\n            paso, //da los pasos...\r\n            //Dejamos en posicion para el jump con correccion...\r\n            cc.moveBy(0, cc.p( fixAnimJumpX, 0)),\r\n            \r\n            //Informamos al box para que reaccione...\r\n            cc.callFunc( function() { aBox.showContent(); }, aBox),\r\n\r\n            //animamos el salto...\r\n            cc.spawn(\r\n                //ajustamos para que caiga en el lugar correcto\r\n                cc.moveBy(0.2, cc.p( -4, 16 )).easing(cc.easeIn(3.0)),\r\n                cc.callFunc( function() { cc.audioEngine.playEffect(this.audio_Jump); this.setAnimation('ExplorerJumpUp'); }, this )\r\n                ),\r\n            cc.delayTime(0.42), //pausa para que termine animacion...\r\n\r\n            //Si muere...sino viene en dummy\r\n            dieAct,\r\n            \r\n            //dejamos en posicion normal de stand...\r\n            cc.moveBy(0, cc.p( -fixAnimJumpX +4, -16 )),\r\n            //lo hacemos subir, y siempre (por ahora) mueve a la derecha, o sea salta desde la izquierda...\r\n            cc.moveBy(0, cc.p( this.deltaStepX / 2, this.deltaStepY)),\r\n            \r\n            //luego del salto queda en normal parado... si no paso nada...\r\n            cc.callFunc( function() { this.setAnimation('ExplorerStand'); }, this ),\r\n            \r\n            //Avisamos al manager que termino el show...\r\n            //para que respete la secuencia, la llamada,  debe estar dentro de una funcion \r\n            //y debo pasarle el target para que tome bien el this... \r\n            cc.callFunc( function() { this._manager.jumpEnd(aBox); }, this ) \r\n        );\r\n        \r\n        this.node.runAction(aSalto);\r\n        \r\n        //llegamos al box...\r\n        this.lin = aBox.lin;\r\n        this.col = aBox.col;\r\n\r\n\r\n    },\r\n\r\n    moveToInsideBox (aBox) {\r\n        \r\n        aBox = aBox.getComponent('Box');\r\n        \r\n        //el player tiene que correr hasta 'BAJAR' al box\r\n        var dCol =  aBox.col - this.col; //delta Col\r\n        var s = (dCol / Math.abs(dCol)); //signo\r\n        \r\n        //Cuando el paso es mayor a cero saltamos a la Derecha...\r\n        //Cuando el paso es menor o igual  cero saltamos a la Izquierda...\r\n        var strAnim = ( s < 0 ) ? 'ExplorerInsideStepL' : 'ExplorerInsideStepR';\r\n        var strAnimJump = 'ExplorerInsideStepDown'; \r\n        //var strAnimJump = ( dCol < 0 ) ? 'ExplorerInsideStepDownLeft' : 'ExplorerInsideStepDown'; \r\n        \r\n        //le pongo una accion vacia para que no de error luego...\r\n        var paso = cc.delayTime(0); //dummy action\r\n        var dieAct = cc.delayTime(0); //dummy action\r\n        \r\n        //si tiene que morir...\r\n        if (aBox.content === 'X'){\r\n            dieAct = cc.spawn(\r\n                cc.fadeOut(0.1),\r\n                cc.callFunc( function() { this.showDieAnim(aBox) ; }, this ),\r\n                cc.delayTime(1.2)\r\n                );\r\n        }\r\n        \r\n        //las animaciones no tienen el mismo tamaño por lo tanto corrijo la \r\n        //posición antes del play\r\n        var fixAnimPasoX = 0;\r\n        if ( dCol > 0 ) { fixAnimPasoX = -39; } else if ( dCol < 0 ) { fixAnimPasoX = -229; } \r\n        var fixAnimPasoY = -50;\r\n\r\n        //Si movemos...\r\n        if (dCol !== 0) {\r\n            paso = cc.sequence(\r\n                //corregimos la posicion por la animacion del paso...\r\n                cc.moveBy(0, cc.p( fixAnimPasoX, fixAnimPasoY )),\r\n                cc.sequence(\r\n                    //hacemos animacion del salto/paso lateral\r\n                    cc.callFunc( function() { this.setAnimation(strAnim); }, this ),\r\n                    cc.delayTime(0.3), //Pausa para que se complete animación...\r\n                    //y luego movemos el nodo inmediatamente...\r\n                    cc.moveBy(0, cc.p( s * this.deltaStepX, 0))\r\n                ).repeat(Math.abs(dCol)), //se repite la cantidad de pasos que tiene que dar...\r\n            cc.moveBy(0, cc.p( -fixAnimPasoX, -fixAnimPasoY )) \r\n            );\r\n        }\r\n\r\n        var fixAnimJumpX = -9;\r\n        //if ( dCol > 0 ) { fixAnimJumpX = -9; } else { fixAnimJumpX = -95; } \r\n        var fixAnimJumpY = -145;\r\n\r\n        \r\n        var firstJump =  ( this.lin == 4 ) ? -360 : 0;\r\n        var firstJumpDelay =  ( this.lin == 4 ) ? 0.12 : 0;\r\n\r\n        var aSalto = cc.sequence(\r\n            paso, //da los pasos... si hay\r\n            //Dejamos en posicion para el jump con correccion...\r\n            cc.moveBy(0, cc.p( fixAnimJumpX, fixAnimJumpY)), \r\n            \r\n            //Informamos al box para que reaccione... Hay que programar el timing\r\n            cc.callFunc( function() { aBox.showContent(); }, aBox),\r\n\r\n            //animamos el salto...\r\n            cc.spawn(\r\n                cc.moveBy(0.2 + firstJumpDelay, cc.p( -9, 15 + firstJump)).easing(cc.easeIn(3.0)),\r\n                cc.callFunc( function() { cc.audioEngine.playEffect(this.audio_Jump); this.setAnimation(strAnimJump); }, this )\r\n                ),\r\n            cc.delayTime(0.22 + firstJumpDelay),//pausa para que termine animacion...\r\n\r\n            //Si muere...sino viene en dummy\r\n            dieAct,\r\n            \r\n            //dejamos en posicion normal de stand...\r\n            cc.moveBy(0, cc.p( -fixAnimJumpX + 9, -fixAnimJumpY - 15) ),\r\n            \r\n            //lo hacemos bajar, y siempre (por ahora) mueve a la derecha, o sea salta desde la izquierda...\r\n            cc.moveBy(0, cc.p( ( this.deltaStepX / 2 ), this.deltaStepY )), \r\n\r\n            //luego del salto queda en normal parado... si no paso nada...\r\n            cc.callFunc( function() { this.setAnimation('ExplorerInsideStand'); }, this ),\r\n            \r\n            //Avisamos al manager que termino el show...\r\n            //para que respete la secuencia, la llamada,  debe estar dentro de una funcion \r\n            //y debo pasarle el target para que tome bien el this... \r\n            cc.callFunc( function() { this._manager.jumpEnd(aBox); }, this ) \r\n        );\r\n        \r\n        this.node.runAction(aSalto);\r\n        \r\n        //llegamos al box...\r\n        this.lin = aBox.lin;\r\n        this.col = aBox.col;\r\n\r\n\r\n    },\r\n\r\n    jumpToChamber () {\r\n        //que salte al cilindro...\r\n        var strDirection = ( this.col == 0 ) ? 'R' : 'L';\r\n        var xFix = ( this.col == 0 ) ? 38 : -38;\r\n        \r\n        var aSalto = cc.sequence(\r\n            cc.moveBy(0, cc.p( xFix, -700)), \r\n            cc.callFunc( function() { this.setAnimation('ExpIn_EndJump' + strDirection); }, this ),\r\n            cc.moveBy(0, cc.p( 0, -50))\r\n        );\r\n\r\n        this.node.runAction(aSalto);\r\n\r\n    },\r\n\r\n    jumpToMouth () {\r\n        //que salte a la boca de la piramide...\r\n        //lo hacemos correr hasta el medio... o sea la columna 2\r\n        //el player tiene que correr hasta 'subirse' al box\r\n        var dCol =  2 - this.col;\r\n        var s = (dCol / Math.abs(dCol));\r\n        //cuando el paso es cero nos tenemos que quedar y solo saltar...\r\n        var strAnim = ( s < 0 ) ? 'ExplorerStepL' : 'ExplorerStepR'; \r\n        //las animaciones no tienen el mismo tamaño por lo tanto corrijo la \r\n        //posición antes del play\r\n        var fixAnimPasoX = 0;\r\n        if ( dCol > 0 ) { fixAnimPasoX = 71} else if ( dCol < 0 ) { fixAnimPasoX = -71 } \r\n\r\n        var paso = cc.delayTime(0); //dummy action\r\n\r\n        if (dCol !== 0) {\r\n            paso = cc.sequence(\r\n                //corregimos la posicion por la animacion del paso...\r\n                cc.moveBy(0, cc.p( fixAnimPasoX, 0 )),\r\n                cc.sequence(\r\n                    //hacemos animacion del salto/paso lateral\r\n                    cc.callFunc( function() { this.setAnimation(strAnim); }, this ),\r\n                    cc.delayTime(0.3), //Pausa para que se complete animación...\r\n                    //y luego movemos el nodo inmediatamente...\r\n                    cc.moveBy(0, cc.p( s * this.deltaStepX, 0))\r\n                ).repeat(Math.abs(dCol)), //se repite la cantidad de pasos que tiene que dar...\r\n            cc.moveBy(0, cc.p( -fixAnimPasoX, 0 )) \r\n            );\r\n        }\r\n        \r\n        var aSalto = cc.sequence(\r\n            paso,\r\n            cc.moveBy(0, cc.p( 40, -4)), \r\n            cc.callFunc( function() { this.setAnimation('ExpOut_JumpHole'); }, this ),\r\n            cc.moveBy(0.5, cc.p( 8, -5)), \r\n            cc.delayTime(0.6),\r\n            cc.fadeOut(0.2)\r\n        );\r\n\r\n        this.node.runAction(aSalto);\r\n\r\n    },\r\n\r\n    //showDieAnim: Ejecuta animacion del angel sobre el box ingresado\r\n    showDieAnim (aBox) {\r\n        \r\n        var dtime = (this.inside === true) ? 0.2: 0;\r\n        \r\n        var dieAct = cc.sequence(\r\n            //pausa...\r\n            cc.delayTime( dtime ),\r\n            //lo movemos hasta el lugar donde debe aparecer\r\n            cc.moveTo(0, cc.p(aBox.node.x, aBox.node.y + 100) ),\r\n            //cc.moveTo(0, cc.p(wPos.x, wPos.y) ),\r\n            //lo mostramos\r\n            cc.fadeIn(0),\r\n            //animamos\r\n            cc.callFunc( function() { cc.audioEngine.playEffect(this.audio_Die); }, this ),\r\n            cc.callFunc( function(node) { node.getComponent(cc.Animation).play('Die'); }, this.dieNode ),\r\n            //ocultamos\r\n            cc.delayTime(1.8),\r\n            cc.fadeOut(0.05)\r\n            //cc.hide()\r\n            );\r\n        \r\n        this.dieNode.runAction(dieAct);\r\n        \r\n    }    \r\n    \r\n});\r\n"
  ]
}